/*! Reading Position Indicator - 1.2.0
 * https://github.com/iworks/reading-position-indicator
 * Copyright (c) 2025;
 * Licensed GPL-3.0 */
document.addEventListener("DOMContentLoaded",function(){var a="";"undefined"!=typeof iworks_position&&("gradient"===iworks_position.style?a="multiple":"transparent"===iworks_position.style&&(a="single"),a&&(a+=" "),a+=iworks_position.style,a+=" position-"+iworks_position.position);var b=document.createElement("progress");b.value=0,b.id="reading-position-indicator",b.className=a||"",b.innerHTML='<div class="progress-container"><span class="progress-bar"></span></div>',document.body.appendChild(b);var c=function(){var a=document.querySelector(".reading-position-indicator-end");if(a){var b=a.getBoundingClientRect();return b.top+window.pageYOffset-.75*window.innerHeight}return document.documentElement.scrollHeight-window.innerHeight},d=function(){return window.pageYOffset||document.documentElement.scrollTop},e=function(){var a=d();if("value"in b)b.value=a;else{var e=document.querySelector(".progress-bar");if(e){var f=c(),g=f>0?a/f*100:0;e.style.width=g+"%"}}},f=function(){var a=c();"max"in b&&(b.max=a),e()};"max"in document.createElement("progress")?(b.max=c(),document.addEventListener("scroll",e)):e(),window.addEventListener("load",function(){e()}),window.addEventListener("resize",f),window.addEventListener("orientationchange",f)});